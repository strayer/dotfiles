[user]
{% if yadm.hostname == "CO-MBP-KC9KQV64V3" %}
  email = s.grunewaldt@westfalen.com
  name = Sven Grunewaldt
  signingkey = key::ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBA+D0pXmFqtUvuGdiqVXvw4EvSqfANnjD9BIXx0SOHpf9l87p53ZmOqxrMJPhxPDq13cVntjIE+YbgbUyzTwN+Q=
{% else %}
  email = strayer@olle-orks.org
  name = Sven Grunewaldt
  signingkey = key::ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBAVF4SCCpZtP7M3y2fVyw7y3VlehamxzSk5dI2CTuZ/FBfuClGKaKr3BV4BfxAC0RXsm78etHaChbQAUi91N0ds=
{% endif %}

[commit]
{% if yadm.hostname == "CO-MBP-KC9KQV64V3" %}
  gpgsign = true
{% endif %}
{% if yadm.hostname == "yobuko" %}
  gpgsign = true
{% endif %}

[alias]
  recommit = "!f() { \
      msg_file="$(git rev-parse --git-dir)/COMMIT_EDITMSG"; \
      if [ -e "$msg_file" ]; then \
          cat $msg_file | git commit --edit -F-; \
      else \
          git commit; \
      fi; \
    }; f"
  a = add
  br = branch --format='%(HEAD) %(color:yellow)%(refname:short)%(color:reset) - %(contents:subject) %(color:green)(%(committerdate:relative)) [%(authorname)]' --sort=-committerdate
  c = commit
  rc = recommit
  co = checkout
  f = fetch
  lg = log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset'
  ph = push -u origin head
  pl = pull
  pu = push
  root = rev-parse --show-toplevel
  s = status

[github]
  user = Strayer

[tag]
  forceSignAnnotated = false

[gpg]
{% if yadm.hostname == "yobuko" %}
  format = ssh
{% endif %}
{% if yadm.hostname == "CO-MBP-KC9KQV64V3" %}
  format = ssh

[gpg "ssh"]
  program = {{ env.HOME }}/.bin/secretive-ssh-keygen
{% endif %}

[difftool]
  prompt = false

[merge]
  tool = p4merge

[diff]
  tool = nvimdiff

[core]
  excludesfile = ~/.gitignore
  pager = delta

[mergetool]
  prompt = false

[pull]
  rebase = false

[init]
  defaultBranch = main

[interactive]
  diffFilter = delta --color-only --features=interactive

[delta]
  features = decorations

[delta "interactive"]
  keep-plus-minus-markers = false

[delta "decorations"]
  commit-decoration-style = blue ol
  commit-style = raw
  file-style = omit
  hunk-header-decoration-style = blue box
  hunk-header-file-style = red
  hunk-header-line-number-style = "#067a00"
  hunk-header-style = file line-number syntax
